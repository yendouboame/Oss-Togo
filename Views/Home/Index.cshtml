@model DashboardViewModel

@{
    ViewData["Title"] = "Tableau de bord";
}

<style>
    body {
        background-color: #f4f4f4; /* Couleur de fond légère pour la page */
        margin: 0;
        padding: 0;
    }

    .dashboard-card {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin: 15px 0;
        padding: 15px;
        text-align: center;
        transition: transform 0.3s ease-in-out;
    }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

    .card-icon {
        color: #4a90e2;
        font-size: 60px;
        margin-bottom: 10px;
    }

    .card-title {
        color: #333333;
        font-size: 18px;
        margin-bottom: 5px;
    }

    .card-amount {
        color: #27ae60;
        font-size: 24px;
        font-weight: 500;
        margin-bottom: 10px;
    }

    .card-description {
        color: #666666;
        font-size: 14px;
    }
</style>

<div class="row">
    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="dashboard-card">
            <div class="card-icon">
                <img src="~/img/icons8-cathédrale-50.png" />
            </div>
            <div class="card-title">Diocèses</div>
            <div class="card-amount">@Model.DioceseCount</div>
            <div class="card-description">Total des diocèses</div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="dashboard-card">
            <div class="card-icon">
                <img src="~/img/icons8-prêtre-50.png" />
            </div>
            <div class="card-title">Prêtres</div>
            <div class="card-amount">@Model.PriestCount</div>
            <div class="card-description">Total des prêtres</div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="dashboard-card">
            <div class="card-icon">
                <img src="~/img/icons8-don-50.png" />
            </div>
            <div class="card-title">Cotisations</div>
            <div class="card-amount">XOF @Model.Contributions</div>
            <div class="card-description">Total enregistré cette année</div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="dashboard-card">
            <div class="card-icon">
                <img src="~/img/icons8-loan-50.png" />
            </div>
            <div class="card-title">Allocations</div>
            <div class="card-amount">XOF @Model.Pensions</div>
            <div class="card-description">Total versé cette année</div>
        </div>
    </div>
</div>

<div class="mt-4">
    <div class="row">
        <!-- Première carte callout -->
        <div class="col-md-4">
            <div class="card shadow mb-3" style="border-left-width: 5px; border-left-color: #292b2c">
                <div class="card-body text-primary">
                    <h4 class="card-title">@Model.PriestsDeceased</h4>
                    <p class="card-text">Prêtres décédés</p>
                </div>
            </div>
        </div>

        <!-- Deuxième carte callout -->
        <div class="col-md-4">
            <div class="card shadow mb-3" style="border-left-width: 5px; border-left-color: #f0ad4e">
                <div class="card-body text-primary">
                    <h4 class="card-title">@Model.PriestsResigned</h4>
                    <p class="card-text">Prêtres démissionnaires</p>
                </div>
            </div>
        </div>

        <!-- Troisième carte callout -->
        <div class="col-md-4">
            <div class="card shadow mb-3" style="border-left-width: 5px; border-left-color: #d9534f">
                <div class="card-body text-primary">
                    <h4 class="card-title">@Model.PriestsExcardinated</h4>
                    <p class="card-text">Prêtres excardinés</p>
                </div>
            </div>
        </div>
    </div>
</div>



@*@{
    ViewData["Title"] = "Tableau de bord";
}

<style>
    .card.zoom-effect .fa {
        transition: transform 0.3s;
    }

    .card.zoom-effect:hover .fa {
        transform: scale(1.2);
    }

    .card i {
        font-size: 120px;
        position: absolute;
        top: 10px;
        right: 20px;
        opacity: 0.2;
    }

    .card-text {
        font-size: 45px;
    }

    table {
        font-size: 14px;
    }
</style>

<h1>Tableau de bord</h1>

<div class="row">
    <div class="col-md-3">
        <div class="card bg-primary text-white zoom-effect">
            <i class="fa fa-home"></i>
            <div class="card-header pb-0">
                <h5 class="card-title">Nombre de diocèses</h5>
            </div>
            <div class="card-body">
                <p class="card-text">@Model.DioceseCount</p>
                <p>diocèses enregistrés</p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card bg-secondary text-white zoom-effect">
            <i class="fa fa-user"></i>
            <div class="card-header pb-0">
                <h5 class="card-title">Nombre de prêtres</h5>
            </div>
            <div class="card-body">
                <p class="card-text">@Model.PriestCount</p>
                <p>prêtres enregistrés</p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card bg-warning text-white zoom-effect">
            <i class="fa fa-handshake-o"></i>
            <div class="card-header pb-0">
                <h5 class="card-title">Prêtres cotisants</h5>
            </div>
            <div class="card-body">
                <p class="card-text">@Model.ContributingPriest</p>
                <p>prêtres cotisants mensuellement</p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card bg-info text-white zoom-effect">
            <i class="fa fa-handshake-o"></i>
            <div class="card-header pb-0">
                <h5 class="card-title">Prêtres bénéficiaires</h5>
            </div>
            <div class="card-body">
                <p class="card-text">@Model.BeneficiaryPriest</p>
                <p>prêtres bénéficiaires des allocations</p>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-md-6">
        <div class="card bg-success text-white zoom-effect">
            <i class="fa fa-money"></i>
            <div class="card-header pb-0">
                <h5 class="card-title">Cotisations du mois de @DateTime.Now.ToString("MMMM yyyy")</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 border-right">
                        <p class="card-text">@FormatNumberWithSpaces(Model.CurrentMonthContribution) XOF</p>
                        <p>perçus</p>
                    </div>
                    <div class="col-md-6 border-left">
                        <p class="card-text">@FormatNumberWithSpaces(Model.CurrentMonthExpectedContribution) XOF</p>
                        <p>attendus</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card bg-danger text-white zoom-effect">
            <i class="fa fa-money"></i>
            <div class="card-header pb-0">
                <h5 class="card-title">Allocations du mois de @DateTime.Now.ToString("MMMM yyyy")</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 border-right">
                        <p class="card-text">@FormatNumberWithSpaces(Model.CurrentMonthPension) XOF</p>
                        <p>reversés</p>
                    </div>
                    <div class="col-md-6 border-left">
                        <p class="card-text">@FormatNumberWithSpaces(Model.CurrentMonthExpectedPension) XOF</p>
                        <p>estimés</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-md-6">
        <div class="card shadow">
            <div class="card-header">
                <strong class="card-title">Dernières cotisations</strong>
            </div>
            <div class="card-body">
                <table class="table table-sm table-hover table-bordered text-center">
                    <thead class="thead-light">
                        <tr>
                            <th>Date de la cotisation</th>
                            <th>Nom et prénom(s) du prêtre</th>
                            <th>Montant de la cotisation</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var contribution in Model.LastContributions)
                        {
                            <tr>
                                <td>@contribution.Date.ToShortDateString()</td>
                                <td>@contribution.Priest.FullName</td>
                                <td>@FormatNumberWithSpaces(contribution.Amount) XOF</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card shadow">
            <div class="card-header">
                <strong class="card-title">Dernières allocations</strong>
            </div>
            <div class="card-body">
                <table class="table table-sm table-hover table-bordered text-center">
                    <thead class="thead-light">
                        <tr>
                            <th>Date de l'allocation</th>
                            <th>Nom et prénom(s) du prêtre</th>
                            <th>Montant de l'allocation</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var pension in Model.LastPensions)
                        {
                            <tr>
                                <td>@pension.Date.ToShortDateString()</td>
                                <td>@pension.Priest.FullName</td>
                                <td>@FormatNumberWithSpaces(pension.Amount) XOF</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</div>*@